{% extends "root.html" %}
{% load cache i18n %}

{% block title %}{% trans "Puzzle Grid" %}{% endblock %}

{% block extrahead %}
<script type="text/javascript" src="{{MEDIA_URL}}js/puzzle.js">
</script>
{% endblock %}

{% block maincontent %}
<h2 class="dontprint">{% trans "Puzzle Grid" %}</h2>
<form action="/grid/" name="grid" method="post">
{% if puzzle %}
<input type="hidden" name="maxx" id="maxx" value="{{puzzle.maxrow}}" />
<input type="hidden" name="maxy" id="maxy" value="{{puzzle.maxline}}" />
<table class="puzzle">
	{% for y in puzzle.lines %}
	<tr>
		{% for x in puzzle.rows %}
		<td>
			<input type="text" name="char_{{y}}_{{x}}" id="char_{{y}}_{{x}}" class="puzzlechar" length="1" maxlength="1" value="{{ puzzle.chars.y.x }}" />
		</td>
		{% endfor %}
	</tr>
	{% endfor %}
</table>
<p class="hint">{% trans "Fill in letters, navigate with arrow keys, block a field with space key. " %}</p>
<input type="submit" value="{% trans "Save" %}" />
{% else %}
<div class="formline ui-widget">
	<label for="maxx">{% trans "Rows:" %}</label> <input type="text" name="maxx" id="maxx" length="3" maxlength="2" value="{{defaultx}}" class="ui-widget-content numeric" />
</div>
<div class="formline ui-widget">
	<label for="maxy">{% trans "Lines:" %}</label> <input type="text" name="maxy" id="maxy" length="3" maxlength="2" value="{{defaulty}}" class="ui-widget-content numeric" />
</div>
<input type="submit" value="{% trans "Create" %}" />
{% endif %}
</form>
{% endblock %}

{% block sidecontent %}
<div id="result">
</div>
{% endblock %}