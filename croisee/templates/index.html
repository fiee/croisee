{% extends "root.html" %}
{% load cache i18n %}

{% block title %}{% trans "Cloze Search" %}{% endblock %}

{% block maincontent %}
<h2>{% trans "Cloze Search" %}</h2>
<form action="/" method="post" name="wordsearch">
	<div class="formline ui-widget">
		<label for="searchterm">{% trans "Search for:" %}</label>
		<input type="text" name="searchterm" id="searchterm" class="ui-widget-content" value="{{ searchterm }}" />
		<input type="submit" value="{% trans "Search" %}" />
		<div class="hint">{% trans "You can use <q>?</q> and <q>*</q> as wildcards for single or several characters." %}</div>
	</div>
	{% include "snippets/dictionaries.html" %}
</form>
<div class="dontprint">
{% blocktrans %}
<h3>What’s this?</h3>
<p>The <em>fiëé croisée</em> project aims to become a semi-automatic crossword puzzle generator. 
Even if there's still a long way to go, it’s already a valuable help in creating crossword puzzles.</p>
<p>On this page you can just look up words that match a special pattern.</p>
<p>There’s also a <strong><a href="/grid/">puzzle grid</a></strong> you can work in.
At the moment you can just print the page from the browser, but soon you’ll be able to export complete layout data for T<sub>E</sub>X or order your print-ready puzzle as PDF.</p>
<p>More details come with the source code at <a href="http://github.com/fiee/croisee/">GitHub</a>.</p>
{% endblocktrans %}
</div>
{% endblock %}

{% block sidecontent %}
{% if posted %}
<h3>{{ resultcount}} {% trans "Search Results" %}</h3>
<dl class="resultlist">
	{% for w in results %}
	<dt title="{{ w.description }}"><a href="http://{{w.dictionary.language}}.wikipedia.org/wiki/{{w.word.title}}" title="{% trans "Look up in Wikipedia" %}" class="dontprint"><img src="http://upload.wikimedia.org/wikipedia/commons/archive/6/63/20050601172023%21Wikipedia-logo.png" style="height:1em;width:1em;" alt="Wikipedia Logo"/></a> {{ w.word }}</dt>
		<dd>{% trans "in" %} {{ w.dictionary }}</dd>
	{% empty %}
	<dt class="error">{% trans "No matching words found" %}</dt>
	{% endfor %}
</dl>
{% endif %}
{% endblock %}